%-  LaTeX source file

%-  main.tex ~~
%
%   This is the "main" document file, which means it is the one that will
%   \include all the other source files.
%
%                                                   ~~ last updated 25 Sep 2019

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% This is a general template file for the LaTeX package SVJour3
% for Springer journals.          Springer Heidelberg 2010/09/16
%
% Copy it to a new file with a new name and use it as the basis
% for your article. Delete % signs as needed.
%
% This template includes a few options for different layouts and
% content for various journals. Please consult a previous issue of
% your journal as needed.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\RequirePackage{fix-cm}
%
%\documentclass{svjour3}                     % onecolumn (standard format)
%\documentclass[smallcondensed]{svjour3}     % onecolumn (ditto)
\documentclass[smallextended]{svjour3}      % onecolumn (second format)
%\documentclass[draft,smallextended]{svjour3} % second format in draft mode
%\documentclass[twocolumn]{svjour3}          % twocolumn

\input{include}

\begin{document}

\title{Improving Resource Utilization by High-throughput Workload Management
at Leadership Class Facilities%
% \thanks{\textcolor{blue}{Grants or other notes about the article that should
% go on the front page should be placed here. General acknowledgments should be
% placed at the end of the article.}}
}
%\subtitle{\textcolor{blue}{Do you have a subtitle?\\ If so, write it here}}

%\titlerunning{Short form of title}        % if too long for running head

\author{%
    Sean R.\ Wilkinson~$^1$ \and
    Danila Oleynik~$^2$ \and
    Ruslan Mashinistov~$^3$ \and
    Andre Merzky~$^4$ \and
    Sergey Panitkin~$^3$ \and
    Pavlo Svirin~$^5$ \and
    Matteo Turilli~$^4$ \and
    Kaushik De~$^5$ \and
    Alexei Klimentov~$^3$ \and
    Shantenu Jha~$^{3, 4}$ \and
    Jack C.\ Wells~$^1$
}

\authorrunning{Sean R.\ Wilkinson et al.} % if too long for running head

\institute{%
    $^1$~Oak Ridge National Laboratory,
        Oak Ridge, Tennessee, USA \\
    $^2$~Joint Institute for Nuclear Research,
        Dubna, Moscow Oblast, Russia \\
    $^3$~Brookhaven National Laboratory,
        Upton, New York, USA \\
    $^4$~Rutgers, the State University of New Jersey,
        New Brunswick, New Jersey, USA \\
    $^5$~University of Texas at Arlington,
        Arlington, Texas, USA
%    S. Wilkinson \at Oak Ridge National Laboratory \\
%        \email{wilkinsonsr@ornl.gov}
%              first address \\
%              Tel.: +123-45-678910\\
%              Fax: +123-45-678910\\
%              \email{fauthor@example.com}           %  \\
%%             \emph{Present address:} of F. Author  %  if needed
%           \and
%           S. Author \at
%              second address
}

\date{Received: date / Accepted: date}
% The correct dates will be entered by the editor

\maketitle

% ---------------------------------------------------------------------------
% ABSTRACT
% ---------------------------------------------------------------------------

\begin{abstract}
Large experiments and big science projects have historically used distributed
resources to meet their computing requirements. On the other hand, leadership
class machines have traditionally been utilized for workloads with very
distinct properties, namely, large MPI jobs. Given this gap, two interesting
questions are: can leadership computing facilities support workloads that
historically used distributed high-throughput resources? Can workload
management systems that were designed and implemented to support distributed
high throughput computing (HTC) support the efficient execution of workloads
on leadership class platforms? This paper documents our experience in enabling
PanDA --- Production and Distributed Analysis (PanDA) originally developed for
the ATLAS experiment at the Large Hadron Collider (LHC) at CERN, as a
production workload management on Titan --- a leadership class machine that
operated from 2012 until 2019. PanDA was modified to interact with the Moab
resource manager in two distinct operational modes: a ``batch queue mode'' that
used traditional allocations, and a ``backfill mode'' that opportunistically
consumed otherwise unutilized resources. For the traditional mode, new
techniques were implemented to shape large jobs for consuming allocations on a
leadership-class machine. In backfill mode, workloads was executed as backfill
to high priority leadership-class jobs but the stated goal of utilizing
resources without impacting Titan's quality of service as experienced by other
jobs. We propose several metrics by which to measure the impact; our analysis
suggests that with high probability and degree of confidence, the ATLAS
project was able to utilize 420 million core hours in backfill mode without a
discernible impact on other jobs and also increased the overall utilization of
Titan. Finally, we describe the use of PanDA for experiments in other
scientific fields such as astronomy, genomics, and neuroscience, using both
OLCF resources and other HPC resources.
\keywords{ATLAS \and HTC \and HPC \and PanDA \and OLCF \and Titan \and WMS}% \PACS{PACS code1 \and PACS code2 \and more}
% \subclass{MSC code1 \and MSC code2 \and more}
\end{abstract}

% The Production and Distributed Analysis (PanDA) software was originally
% developed as a High Throughput Computing (HTC) workload management system (WMS)
% on distributed grid resources for the ATLAS experiment at the Large Hadron
% Collider (LHC) at CERN. The BigPanDA team extended PanDA to access High
% Performance Computing (HPC) resources, allowing leadership-class supercomputers
% like Titan at Oak Ridge Leadership Computing Facility (OLCF) to become grid
% sites for the Worldwide LHC Compute Grid (WLCG). ATLAS consumed more than 620
% million Titan core hours from 2016-2018 as part of its production workflow for
% simulations by extending PanDA to interact with the Moab resource manager in
% two distinct operational modes: a ``batch queue mode'' that used traditional
% allocations to consume 200 million core hours, and a ``backfill mode'' that
% opportunistically consumed unutilized resources totaling more than 420 million
% core hours. For the traditional mode, new techniques were implemented to shape
% large jobs for consuming allocations on a leadership-class machine. In backfill
% mode, work was streamed steadily to Titan to backfill high priority
% leadership-class jobs, with the goal of consuming unutilized resources that
% would have otherwise remained unutilized, without affecting other projects'
% quality of service. This goal was evaluated with several studies that are
% included here, and the studies concluded that the goal was achieved. Finally,
% this report describes the use of PanDA for experiments in other scientific
% fields. Multiple demonstration workflows are described for fields such as
% astronomy, genomics, and neuroscience, using both OLCF resources and other HPC
% resources. 

% ---------------------------------------------------------------------------
% I - INTRODUCTION
% ---------------------------------------------------------------------------

\section{Introduction}
\label{sec:introduction}
\input{section1}

% ---------------------------------------------------------------------------
% II - PanDA Workload Management System: Software System Overview
% ---------------------------------------------------------------------------

\section{PanDA Workload Management System: Software System Overview}
\label{sec:overview}
\input{section2}

% ---------------------------------------------------------------------------
% III - Deploying PanDA Workload Management System on Titan
% ---------------------------------------------------------------------------

\section{Deploying PanDA Workload Management System on Titan}
\label{sec:deploying}
\input{section3}

% ---------------------------------------------------------------------------
% IV - Performance Characterization on Titan
% ---------------------------------------------------------------------------

\section{Impact Assessment of PanDA on Titan}
\label{sec:impact-assessment}
\jhanote{Performance of what? We should rename this section to some thing less
ambigious}
\seannote{Pretty much every section and subsection title can be tweaked, even
if only to make sure they all match the same parts of speech. I renamed it, but
obviously we can re-rename it.}

\input{section4}

% ---------------------------------------------------------------------------
% V - Workload Management for HPC Beyond ATLAS and OLCF
% ---------------------------------------------------------------------------

\section{HPC Workload Management beyond ATLAS and OLCF}
\label{sec:beyond-atlas-and-olcf}
\input{section5}

%%%

% ---------------------------------------------------------------------------
% VI - Summary
% ---------------------------------------------------------------------------

\section{Summary}
\label{sec:summary}
\input{section6}

%%%

%% For one-column wide figures use
%\begin{figure}
%% Use the relevant command to insert your figure file.
%% For example, with the graphicx package use
%  \includegraphics{images/example.eps}
%% figure caption is below the figure
%\caption{Please write your figure caption here}
%\label{fig:1}       % Give a unique label
%\end{figure}
%%
%% For two-column wide figures use
%\begin{figure*}
%% Use the relevant command to insert your figure file.
%% For example, with the graphicx package use
%  \includegraphics[width=0.75\textwidth]{images/example.eps}
%% figure caption is below the figure
%\caption{Please write your figure caption here}
%\label{fig:2}       % Give a unique label
%\end{figure*}
%%
%

\begin{acknowledgements}
    This work is funded by Award number DESC0016280 from the Office of Advanced
    Scientific Computing Research within the Department of Energy. This
    research used resources of the Oak Ridge Leadership Computing Facility at
    the Oak Ridge National Laboratory, which is supported by the Office of
    Science of the U.S. Department of Energy under Contract
    No.\ DE-AC05-00OR22725.
\end{acknowledgements}


%-  NOTE: I (Sean) chose the bibliography style arbitrarily.

%\bibliographystyle{spbasic}      % basic style, author-year citations
%\bibliographystyle{spmpsci}      % mathematics and physical sciences
\bibliographystyle{spphys}       % APS-like style for physics
\bibliography{bibliography,radical_publications}


%-  That's all, folks!

\end{document}

%-  vim:set syntax=tex:
